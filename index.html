<!DOCTYPE html>
<!-- 'dark' class will be managed by JavaScript -->
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haikal Putra Gustiansyah | Full-Stack Developer</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- GSAP (GreenSock Animation Platform) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Three.js (3D Library) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overscroll-behavior: none;
        }

        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
        }

        #hero>div {
            position: relative;
            z-index: 2;
        }

        .main-content {
            position: relative;
            z-index: 10;
            background-color: transparent;
        }

        /* Style baru untuk gambar proyek agar bisa di-paralaks */
        .project-image-container {
            overflow: hidden;
            border-radius: 0.5rem;
        }

        .project-image-container img {
            width: 100%;
            height: 120%;
            /* Dibuat lebih tinggi agar ada ruang untuk bergerak */
            object-fit: cover;
        }
    </style>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                },
            },
        }
    </script>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 transition-colors duration-500">
    <!-- Latar Belakang 3D -->
    <canvas id="bg-canvas"></canvas>

    <!-- Konten Utama -->
    <div class="main-content">
        <header
            class="header-nav fixed top-0 left-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm z-50 transition-colors duration-500">
            <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
                <a href="#" class="text-2xl font-bold text-indigo-600 dark:text-indigo-400">CPKAL</a>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#about" class="nav-link hover:text-indigo-600 dark:hover:text-indigo-400">Tentang Saya</a>
                    <a href="#projects" class="nav-link hover:text-indigo-600 dark:hover:text-indigo-400">Proyek</a>
                    <a href="#contact" class="nav-link hover:text-indigo-600 dark:hover:text-indigo-400">Kontak</a>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#"
                        class="inline-block bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-1 px-3 rounded-lg transition-all transform hover:scale-105 shadow-md">
                        Unduh Resume
                    </a>
                    <button id="theme-toggle"
                        class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800">
                        <svg id="sun-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                            </path>
                        </svg>
                        <svg id="moon-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z">
                            </path>
                        </svg>
                    </button>
                </div>
            </nav>
        </header>

        <main id="main-container">
            <section id="hero" class="relative h-screen flex items-center justify-center text-center px-4">
                <div class="space-y-6">
                    <p class="hero-text text-lg text-indigo-600 dark:text-indigo-400 font-semibold">Halo, saya</p>
                    <h1
                        class="hero-text text-5xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-500 to-purple-500">
                        Haikal Putra Gustiansyah</h1>
                    <h2 class="hero-text text-2xl md:text-3xl text-gray-600 dark:text-gray-300">Fullstack Web Dev.
                        Passionate and willing to learn new things</h2>
                    <h2 class="hero-text text-xl md:text-3xl text-gray-800 dark:text-gray-400">Laravel | Flutter | React
                    </h2>
                    <a href="#projects"
                        class="hero-text inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-lg transition-transform transform hover:scale-105 shadow-lg">Lihat
                        Proyek Saya</a>
                </div>
            </section>

            <div class="bg-gray-100 dark:bg-gray-900">
                <section id="about" class="py-24">
                    <div class="container mx-auto px-6">
                        <h2 class="section-title text-4xl font-bold text-center mb-12">Tentang Saya</h2>
                        <div class="flex flex-col md:flex-row items-center gap-12">
                            <!-- <div class="about-image w-full md:w-1/3"><img
                                    src="https://placehold.co/400x400/6366f1/ffffff?text=Foto+Anda"
                                    alt="Foto profil Anda"
                                    class="rounded-full shadow-2xl mx-auto border-4 border-indigo-200 dark:border-indigo-800">
                            </div> -->
                            <div class="about-text w-full md:w-3/3 space-y-4 text-lg text-gray-700 dark:text-gray-300">
                                <p>Fullstack Developer dengan pengalaman dalam merancang dan mengembangkan solusi web
                                    yang inovatif dari hulu ke hilir. Keahlian saya mencakup teknologi frontend seperti
                                    React dan Next.js, serta back-end dengan Express dan Laravel dan database seperti
                                    MySQL dan MongoDB.</p>
                                <p>Saya bersemangat dalam memecahkan masalah yang kompleks dan berkomitmen terhadap
                                    clean code. Saya selalu mengikuti perkembangan teknologi terbaru untuk memberikan
                                    produk dengan performa dan pengalaman pengguna terbaik. Serta bersedia untuk belajar
                                    hal baru.</p>
                                <!-- Tombol Download Resume Baru -->

                            </div>
                        </div>
                    </div>
                </section>

                <section id="projects" class="py-12">
                    <div class="container mx-auto px-6">
                        <h2 class="section-title text-4xl font-bold text-center mb-20">Proyek</h2>
                        <div class="project-item flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="https://cyberlabs.co.id/wp-content/uploads/2023/01/Group-1-21.png"
                                    alt="Proyek E-commerce" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">B2B e-commerce</p>
                                <h3 class="text-3xl font-bold mb-4">HAVA</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Situs e-commerce dibangun menggunakan
                                    laravel, menampilkan arsitektur yang kuat dan antarmuka pengguna yang responsif.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="1">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="./images/greenara.png" alt="Proyek Aplikasi Manajemen Tugas"
                                    class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">E-commerce</p>
                                <h3 class="text-3xl font-bold mb-4">Greenara</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Aplikasi toko online untuk menjual
                                    komoditas sayur & buah. Dibangun menggunakan Flutter</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="2">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="https://cyberlabs.co.id/wp-content/uploads/2023/01/Group-1-29.png"
                                    alt="Proyek Website Portofolio" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">E-commerce</p>
                                <h3 class="text-3xl font-bold mb-4">HidupBahagia.ID</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Website toko online fokus menjual
                                    produk kesehatan, website ini dikembangkan dengan sistem customize, yang terdiri
                                    dari berbagai fitur toko online yang lengkap.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="3">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="./images/streamr/streamr.png"
                                    alt="Proyek Aplikasi Manajemen Tugas" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">Video Streaming Website</p>
                                <h3 class="text-3xl font-bold mb-4">Streamr</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Website clone twitch untuk video
                                    streaming dan realtime livechat. Membuat proyek ini menggunakan Next.js dan
                                    Tailwind CSS untuk frontend, serta Nginx dan Docker untuk deployment.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="4">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="./images/cola/cola.png"
                                    alt="Proyek Website Portofolio" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">3D Landing Page</p>
                                <h3 class="text-3xl font-bold mb-4">Cola Beverage</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Cola Beverage adalah sebuah website
                                    interaktif untuk mempromosikan produk minuman cola. Dibuat dengan Vite dan
                                    Tailwind CSS untuk frontend, serta GSAP dan Three.js untuk animasi dan efek 3D.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="5">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="https://cyberlabs.co.id/wp-content/uploads/2023/01/Group-1-27.png"
                                    alt="Proyek Aplikasi Manajemen Tugas" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">Company Profile</p>
                                <h3 class="text-3xl font-bold mb-4">Tunas Toyota Cimindi</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">>Website yang memiliki fungsi untuk
                                    memudahkan pengunjung mencari informasi mengenai unit kendaraan yang disediakan oleh
                                    Dealer Tunas Toyota Cabang Cimindi.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="6">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="https://cyberlabs.co.id/wp-content/uploads/2023/01/Group-1-18.png"
                                    alt="Proyek Website Portofolio" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">Company Profile + CMS</p>
                                <h3 class="text-3xl font-bold mb-4">Khazanah Express</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Khazanah Express adalah sebuah website
                                    profile custome yang berasal dari salah satu perusahaan expedisi udara, dimana di
                                    dalam website ini terdiri dari 7 halaman utama diantaranya adalah halaman Home,
                                    Layanan, Produk, Rate, Berita, Testimoni, Kontan dan FAQ</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="7">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="https://cyberlabs.co.id/wp-content/uploads/2023/01/pc-atas-9.png"
                                    alt="Proyek Aplikasi Manajemen Tugas" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">Company Profile + Landing Page</p>
                                <h3 class="text-3xl font-bold mb-4">Kraviti</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Website profile untuk menampilkan
                                    layanan pembuatan tas custom khusus untuk brand kraviti, dimana website ini
                                    dikembangkan dengan sisten landing page 1 kolom.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="8">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>
                        <div class="project-item flex flex-col md:flex-row items-center gap-8 md:gap-12 mb-24">
                            <div class="project-image-container w-full md:w-1/2 shadow-lg"><img
                                    src="./images/before-we-got-married/before-we-got-married.png"
                                    alt="Proyek Website Portofolio" class="project-image"></div>
                            <div class="project-info w-full md:w-1/2">
                                <p class="text-indigo-400 font-semibold mb-2">Landing Page</p>
                                <h3 class="text-3xl font-bold mb-4">Before We Got Married</h3>
                                <p class="mb-6 text-gray-600 dark:text-gray-400">Website informasi webinar persiapan
                                    pernikahan bersama mentor-mentor yang berpengalaman. menyediakan kelas pembekalan
                                    online oleh pemateri Nasional untuk mengetahui persiapan untuk mempercepat kesiapan
                                    dalam menjemput pasangan hidupnya.</p>
                                <button
                                    class="view-detail-btn font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline"
                                    data-project-id="9">Lihat Studi Kasus &rarr;</button>
                            </div>
                        </div>

                        <!-- dan masih banyak lagi, tombok ke repo github aku -->
                        <div class="text-center mt-12">
                            <a href="https://github.com/cpkal?tab=repositories" class="font-semibold text-lg text-indigo-600 dark:text-indigo-400 hover:underline">Dan masih banyak lagi, lihat proyek-proyek di Github &rarr;</a>
                        </div>
                    </div>
                </section>

                <section id="contact" class="py-24">
                    <div class="container mx-auto px-6 text-center max-w-3xl">
                        <h2 class="section-title text-4xl font-bold mb-4">Hubungi Saya</h2>
                        <p class="text-lg mb-8 text-gray-600 dark:text-gray-300">Saya saat ini terbuka untuk job offer
                            dan proyek freelance. Tertarik? Hubungi saya melalui email berikut.</p>
                        <a href="mailto:haikalg2003@gmail.com"
                            class="contact-button bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-10 rounded-lg transition-transform transform hover:scale-105 shadow-lg text-lg">Kirim
                            Email</a>
                    </div>
                </section>
            </div>
        </main>

        <section id="project-detail" class="hidden fixed inset-0 bg-gray-100 dark:bg-gray-900 z-50 overflow-y-auto">
            <div class="container mx-auto px-6 py-24">
                <button id="back-to-main"
                    class="mb-8 font-semibold text-indigo-600 dark:text-indigo-400 hover:underline">&larr; Kembali ke
                    Proyek</button>
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 md:p-12" id="project-detail-content">

                    <h2 id="detail-title" class="text-4xl md:text-5xl font-bold mb-4"></h2>
                    <div id="detail-tech-stack" class="flex flex-wrap gap-2 mb-6"></div>
                    <div id="detail-description" class="text-lg text-gray-700 dark:text-gray-300 space-y-4"></div>
                    <div class="mt-8 flex flex-wrap gap-4">
                        <a id="detail-live-link" href="#" target="_blank"
                            class="inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg">Lihat
                            Live</a>
                        <a id="detail-repo-link" href="#" target="_blank"
                            class="inline-block bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg">Lihat
                            Kode</a>
                    </div>
                </div>
            </div>
        </section>

        <footer class="relative z-10 text-center py-8 bg-gray-100 dark:bg-gray-900">
            <p>&copy; 2025 Haikal Putra Gustiansyah. Made with ❤️.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const projectData = {};

            fetch('projects.json')
                .then(response => response.json())
                .then(data => {
                    if (!data || typeof data !== 'object') {
                        throw new Error('Invalid project data format');
                    }
                    // foreach object and assign to projectData
                    Object.keys(data).forEach(key => {
                        projectData[key] = {
                            title: data[key].title || 'No Title',
                            images: data[key].images || ['https://via.placeholder.com/400'],
                            description: data[key].description || 'No Description',
                            techs: data[key].techs || [],
                            liveUrl: data[key].liveUrl || '#',
                            repoUrl: data[key].repoUrl || '#',
                            status: data[key].status || 'unknown'
                        };
                    });

                    initSite();
                })
                .catch(error => console.error('Error loading project data:', error));

            function initSite() {

                const mainContainer = document.getElementById('main-container');
                const projectDetailSection = document.getElementById('project-detail');
                const backButton = document.getElementById('back-to-main');
                const viewDetailButtons = document.querySelectorAll('.view-detail-btn');
                let lastScrollPosition = 0;

                function showProjectDetail(projectId) {
                    const data = projectData[projectId];
                    if (!data) return;
                    lastScrollPosition = window.scrollY;
                    document.getElementById('detail-title').textContent = data.title;

                    const projectDetailContent = document.getElementById('project-detail-content');
                    
                    data.images.forEach(imageSrc => {
                        const img = document.createElement('img');
                        // add class for removable class
                        img.src = imageSrc;
                        img.alt = 'Gambar Proyek';
                        img.className = 'w-auto h-auto max-f object-cover rounded-lg mb-4 mt-4 remove-on-dispose';
                        projectDetailContent.append(img);
                    });

                    document.getElementById('detail-description').innerHTML = data.description;

                    if(data.liveUrl === '#') {
                        document.getElementById('detail-live-link').style.display = 'none';
                    } else {
                        document.getElementById('detail-live-link').style.display = 'inline-block';
                    }

                    if(data.repoUrl === '#') {
                        document.getElementById('detail-repo-link').style.display = 'none';
                    } else {
                        document.getElementById('detail-repo-link').style.display = 'inline-block';
                    }

                    document.getElementById('detail-live-link').href = data.liveUrl;
                    document.getElementById('detail-repo-link').href = data.repoUrl;
                    const techStackContainer = document.getElementById('detail-tech-stack');
                    techStackContainer.innerHTML = '';
                    data.techs.forEach(tech => { const techBadge = document.createElement('span'); techBadge.className = 'bg-indigo-100 text-indigo-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300'; techBadge.textContent = tech; techStackContainer.appendChild(techBadge); });
                    const tl = gsap.timeline();
                    tl.to(mainContainer, { opacity: 0, duration: 0.3, onComplete: () => mainContainer.style.display = 'none' }).set(projectDetailSection, { display: 'block', opacity: 0, y: 20 }).to(projectDetailSection, { opacity: 1, y: 0, duration: 0.4 });
                }

                function hideProjectDetail() {
                    // remove all images with class remove-on-dispose
                    const imagesToRemove = document.querySelectorAll('#project-detail-content img.remove-on-dispose');
                    console.log('Removing images:', imagesToRemove);
                    imagesToRemove.forEach(img => img.remove());
                    const tl = gsap.timeline();
                    tl.to(projectDetailSection, { opacity: 0, y: 20, duration: 0.3, onComplete: () => projectDetailSection.style.display = 'none' }).set(mainContainer, { display: 'block', opacity: 0 }).to(mainContainer, { opacity: 1, duration: 0.5, onComplete: () => window.scrollTo(0, lastScrollPosition) });
                }

                viewDetailButtons.forEach(button => { button.addEventListener('click', () => { showProjectDetail(button.dataset.projectId); }); });
                backButton.addEventListener('click', hideProjectDetail);

                const themeToggle = document.getElementById('theme-toggle'); const sunIcon = document.getElementById('sun-icon'); const moonIcon = document.getElementById('moon-icon'); const htmlElement = document.documentElement; function updateIcons(isDarkMode) { sunIcon.classList.toggle('hidden', isDarkMode); moonIcon.classList.toggle('hidden', !isDarkMode); } const savedTheme = localStorage.getItem('theme'); const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches; if (savedTheme === 'dark' || (!savedTheme && prefersDark)) { htmlElement.classList.add('dark'); updateIcons(true); } else { htmlElement.classList.remove('dark'); updateIcons(false); } themeToggle.addEventListener('click', () => { const isDarkMode = htmlElement.classList.toggle('dark'); localStorage.setItem('theme', isDarkMode ? 'dark' : 'light'); updateIcons(isDarkMode); });

                let scene, camera, renderer, crystal; const clock = new THREE.Clock(); const mouse = new THREE.Vector2(); const scrollRotation = { x: 0, y: 0 };
                function init3D() { const canvas = document.getElementById('bg-canvas'); scene = new THREE.Scene(); camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); camera.position.z = 5; renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true }); renderer.setSize(window.innerWidth, window.innerHeight); renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); const geometry = new THREE.IcosahedronGeometry(1.5, 0); const material = new THREE.MeshStandardMaterial({ color: 0x6366f1, metalness: 0.1, roughness: 0.2, wireframe: true }); crystal = new THREE.Mesh(geometry, material); scene.add(crystal); const ambientLight = new THREE.AmbientLight(0xffffff, 0.5); scene.add(ambientLight); const pointLight = new THREE.PointLight(0xffffff, 0.8); pointLight.position.set(5, 5, 5); scene.add(pointLight); window.addEventListener('mousemove', onMouseMove, false); window.addEventListener('resize', onWindowResize, false); animate(); }
                function onMouseMove(event) { mouse.x = (event.clientX / window.innerWidth) * 2 - 1; mouse.y = -(event.clientY / window.innerHeight) * 2 + 1; }
                function onWindowResize() { camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); }
                function animate() { requestAnimationFrame(animate); const elapsedTime = clock.getElapsedTime(); const idleX = Math.sin(elapsedTime * 0.5) * 0.05; const idleY = Math.cos(elapsedTime * 0.5) * 0.05; const mouseX = mouse.x * 0.3; const mouseY = mouse.y * 0.3; crystal.rotation.y += ((scrollRotation.y + idleY + mouseX) - crystal.rotation.y) * 0.05; crystal.rotation.x += ((scrollRotation.x + idleX + mouseY) - crystal.rotation.x) * 0.05; renderer.render(scene, camera); }
                init3D();

                gsap.registerPlugin(ScrollTrigger);
                gsap.to(scrollRotation, { y: Math.PI * 2, x: Math.PI, scrollTrigger: { trigger: ".main-content", start: "top top", end: "bottom bottom", scrub: 1.5, }, });
                gsap.to(camera.position, { scrollTrigger: { trigger: "#about", start: "top bottom", end: "top top", scrub: 1 }, z: 2.5, ease: 'power1.inOut' });

                gsap.utils.toArray('.project-item').forEach(item => {
                    const imageContainer = item.querySelector('.project-image');
                    const infoContainer = item.querySelector('.project-info');
                    gsap.fromTo(imageContainer, { y: '-10%' }, { y: '10%', scrollTrigger: { trigger: item, scrub: true, start: 'top bottom', end: 'bottom top' } });
                    gsap.from(infoContainer.children, { opacity: 0, y: 50, duration: 0.8, stagger: 0.1, ease: 'power2.out', scrollTrigger: { trigger: item, start: 'top 80%', toggleActions: 'play none none none' } });
                });

                gsap.from(".hero-text", { duration: 1, y: 50, opacity: 0, stagger: 0.2, ease: "power3.out", delay: 0.5 });
                gsap.utils.toArray('.section-title').forEach(title => { gsap.from(title, { scrollTrigger: { trigger: title, start: "top 85%", toggleActions: "play none none none" }, duration: 1, y: 50, opacity: 0, ease: "power2.out", }); });
                gsap.from('.about-image', { scrollTrigger: { trigger: '#about', start: 'top 70%', toggleActions: 'play none none none', }, x: -100, opacity: 0, duration: 1, ease: 'power3.out' });
                gsap.from('.about-text > *', { scrollTrigger: { trigger: '#about', start: 'top 70%', toggleActions: 'play none none none', }, x: 100, opacity: 0, stagger: 0.2, duration: 1, ease: 'power3.out' });
                gsap.from('.contact-button', { scrollTrigger: { trigger: '#contact', start: "top 75%", toggleActions: "play none none none" }, scale: 0.5, opacity: 0, duration: 1, ease: 'elastic.out(1, 0.5)' });
            }
        });
    </script>
</body>

</html>